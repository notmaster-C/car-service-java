(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-c81b8898"],{"0536":function(t,e,i){"use strict";i("17e0")},"17e0":function(t,e,i){},"19c4":function(t,e,i){},7915:function(t,e,i){"use strict";i.r(e);var l=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"app-container"},[i("div",{staticClass:"filter-container"},[i("el-form",{attrs:{model:t.listQuery,size:"small",inline:!0}},[i("el-form-item",{attrs:{label:"序号ID"}},[i("el-input",{staticClass:"filter-item",staticStyle:{width:"200px"},attrs:{clearable:"",placeholder:"请输入查询序号ID"},model:{value:t.listQuery.id,callback:function(e){t.$set(t.listQuery,"id",e)},expression:"listQuery.id"}})],1),i("el-form-item",{attrs:{label:"订单编号"}},[i("el-input",{staticClass:"filter-item",staticStyle:{width:"200px"},attrs:{clearable:"",placeholder:"请输入订单编号"},model:{value:t.listQuery.orderSn,callback:function(e){t.$set(t.listQuery,"orderSn",e)},expression:"listQuery.orderSn"}})],1),i("el-form-item",{attrs:{label:"联系电话"}},[i("el-input",{staticClass:"filter-item",staticStyle:{width:"200px"},attrs:{clearable:"",placeholder:"请输入联系电话"},model:{value:t.listQuery.mobile,callback:function(e){t.$set(t.listQuery,"mobile",e)},expression:"listQuery.mobile"}})],1),i("el-form-item",{attrs:{label:"商品序号"}},[i("el-input",{staticClass:"filter-item",staticStyle:{width:"200px"},attrs:{clearable:"",placeholder:"请输入商品序号"},model:{value:t.listQuery.goodsId,callback:function(e){t.$set(t.listQuery,"goodsId",e)},expression:"listQuery.goodsId"}})],1),i("el-form-item",{attrs:{label:"店铺序号"}},[i("el-input",{staticClass:"filter-item",staticStyle:{width:"200px"},attrs:{clearable:"",placeholder:"请输入店铺序号"},model:{value:t.listQuery.brandId,callback:function(e){t.$set(t.listQuery,"brandId",e)},expression:"listQuery.brandId"}})],1),i("el-form-item",{attrs:{label:"物流单号"}},[i("el-input",{staticClass:"filter-item",staticStyle:{width:"200px"},attrs:{clearable:"",placeholder:"请输入物流单号"},model:{value:t.listQuery.shipSn,callback:function(e){t.$set(t.listQuery,"shipSn",e)},expression:"listQuery.shipSn"}})],1),i("el-form-item",{attrs:{label:"订单状态"}},[i("el-select",{staticClass:"filter-item",staticStyle:{width:"200px"},attrs:{multiple:"",placeholder:"请选择订单状态"},model:{value:t.listQuery.orderStatusArray,callback:function(e){t.$set(t.listQuery,"orderStatusArray",e)},expression:"listQuery.orderStatusArray"}},t._l(t.statusMap,(function(t,e){return i("el-option",{key:t,attrs:{label:t,value:e}})})),1)],1),i("el-form-item",{attrs:{label:"起始日期"}},[i("el-date-picker",{staticClass:"filter-item",attrs:{type:"datetimerange","value-format":"yyyy-MM-dd HH:mm:ss","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期","picker-options":t.pickerOptions},model:{value:t.listQuery.timeArray,callback:function(e){t.$set(t.listQuery,"timeArray",e)},expression:"listQuery.timeArray"}})],1),i("el-form-item",{attrs:{label:"查询数量"}},[i("el-input",{staticClass:"filter-item",staticStyle:{width:"200px"},attrs:{clearable:"",placeholder:"输入0查询全部"},model:{value:t.listQuery.limit,callback:function(e){t.$set(t.listQuery,"limit",e)},expression:"listQuery.limit"}})],1),i("el-form-item",[i("el-button",{directives:[{name:"permission",rawName:"v-permission",value:["GET /admin/order/list"],expression:"['GET /admin/order/list']"}],staticClass:"filter-item",attrs:{type:"primary",icon:"el-icon-search"},on:{click:t.handleFilter}},[t._v("查找")]),i("el-button",{staticClass:"filter-item",attrs:{loading:t.downloadLoading,type:"primary",icon:"el-icon-download"},on:{click:t.handleDownload}},[t._v("导出订单")]),i("el-button",{staticClass:"filter-item",attrs:{loading:t.downloadLoadingBHD,type:"primary",icon:"el-icon-download"},on:{click:t.handleDownloadBHD}},[t._v("下载备货单")])],1)],1)],1),i("el-tabs",{attrs:{type:"card"},on:{"tab-click":t.handleClick},model:{value:t.listQuery.showType,callback:function(e){t.$set(t.listQuery,"showType",e)},expression:"listQuery.showType"}},[i("el-tab-pane",{attrs:{label:"全部 ("+t.info.n0+")",name:"0"}}),i("el-tab-pane",{attrs:{label:"待付款 ("+t.info.n1+")",name:"1"}}),i("el-tab-pane",{attrs:{label:"待发货 ("+t.info.n2+")",name:"2"}}),i("el-tab-pane",{attrs:{label:"待收货 ("+t.info.n3+")",name:"3"}}),i("el-tab-pane",{attrs:{label:"已完成 ("+t.info.n4+")",name:"4"}}),i("el-tab-pane",{attrs:{label:"已取消 ("+t.info.n5+")",name:"5"}})],1),i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],attrs:{data:t.list,"element-loading-text":"正在查询中。。。",border:"",fit:"","highlight-current-row":""}},[i("el-table-column",{attrs:{type:"expand"},scopedSlots:t._u([{key:"default",fn:function(e){return t._l(e.row.goodsVoList,(function(t){return i("GoodDetail",{key:t.id,attrs:{good:t}})}))}}])}),i("el-table-column",{attrs:{align:"center","min-width":"120",label:"订单编号",prop:"orderSn"}}),i("el-table-column",{attrs:{align:"center",label:"用户头像",width:"80"},scopedSlots:t._u([{key:"default",fn:function(t){return[i("el-avatar",{attrs:{src:t.row.userAvatar}})]}}])}),i("el-table-column",{attrs:{align:"center",label:"用户昵称",prop:"userName"}}),i("el-table-column",{attrs:{align:"center",label:"下单日期",prop:"addTime","min-width":"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s((e.row.addTime||"").substring(0,10))+" ")]}}])}),i("el-table-column",{attrs:{align:"center",label:"订单状态",prop:"orderStatus","min-width":"130"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-tag",[t._v(t._s(e.row.orderStatusText))])]}}])}),i("el-table-column",{attrs:{align:"center",label:"商品总价",prop:"goodsPrice","min-width":"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.goodsPrice)+" 元 ")]}}])}),i("el-table-column",{attrs:{align:"center",label:"实付金额",prop:"actualPrice","min-width":"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.actualPrice)+" 元 ")]}}])}),i("el-table-column",{attrs:{align:"center",label:"支付时间",prop:"payTime"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s((e.row.payTime||"").substring(11))+" ")]}}])}),i("el-table-column",{attrs:{align:"center",label:"收货姓名",prop:"consignee"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("span",{staticStyle:{color:"red","font-weight":"bold"}},[t._v(t._s(e.row.consignee))])]}}])}),i("el-table-column",{attrs:{align:"center",label:"收货电话",prop:"mobile","min-width":"120"}}),i("el-table-column",{attrs:{align:"center",label:"收货地址",prop:"address","min-width":"180"}}),i("el-table-column",{attrs:{align:"center",label:"物流单号",prop:"shipSn"}}),i("el-table-column",{attrs:{align:"center",label:"物流渠道",prop:"shipChannel"}}),i("el-table-column",{attrs:{align:"center",label:"订单备注",prop:"message"}}),i("el-table-column",{attrs:{align:"center",label:"操作",width:"200","class-name":"small-padding fixed-width"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(i){return t.handleDetail(e.row)}}},[t._v("详情")]),200==e.row.orderStatus||201==e.row.orderStatus||304==e.row.orderStatus?i("el-button",{attrs:{type:"info",size:"mini"},on:{click:function(i){return t.handleCancel(e.row)}}},[t._v("取消")]):t._e(),101==e.row.orderStatus||301==e.row.orderStatus?i("el-button",{attrs:{type:"warning",size:"mini"},on:{click:function(i){return t.handlePay(e.row)}}},[t._v("收款")]):t._e(),200==e.row.orderStatus||201==e.row.orderStatus||304==e.row.orderStatus?i("el-button",{attrs:{type:"success",size:"mini"},on:{click:function(i){return t.handleShip(e.row)}}},[t._v("发货")]):t._e(),202==e.row.orderStatus||303==e.row.orderStatus?i("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(i){return t.handleRefund(e.row)}}},[t._v("退款")]):t._e()]}}])})],1),i("pagination",{directives:[{name:"show",rawName:"v-show",value:t.total>0,expression:"total>0"}],attrs:{total:t.total,page:t.listQuery.page,limit:t.listQuery.limit},on:{"update:page":function(e){return t.$set(t.listQuery,"page",e)},"update:limit":function(e){return t.$set(t.listQuery,"limit",e)},pagination:t.getList}}),i("el-dialog",{attrs:{visible:t.payDialogVisible,title:"订单收款",width:"60%",center:""},on:{"update:visible":function(e){t.payDialogVisible=e}}},[i("el-form",{ref:"payForm",attrs:{model:t.payForm,"status-icon":"","label-position":"left","label-width":"100px"}},[i("div",{staticStyle:{"margin-bottom":"10px"}},[t._v(" 确认当前订单【订单编号 "+t._s(t.payForm.orderSn)+" ) 已经完成线下收款 ？ ")]),i("el-form-item",{attrs:{label:"订单金额",prop:"oldMoney"}},[i("el-input-number",{attrs:{controls:!1,disabled:""},model:{value:t.payForm.oldMoney,callback:function(e){t.$set(t.payForm,"oldMoney",e)},expression:"payForm.oldMoney"}})],1),i("el-form-item",{attrs:{label:"付款金额",prop:"newMoney"}},[i("el-input-number",{attrs:{controls:!1},model:{value:t.payForm.newMoney,callback:function(e){t.$set(t.payForm,"newMoney",e)},expression:"payForm.newMoney"}})],1)],1),i("el-table",{attrs:{data:t.payForm.goodsList}},[i("el-table-column",{attrs:{property:"goodsName",label:"商品"}}),i("el-table-column",{attrs:{label:"规格"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.specifications.join("-"))+" ")]}}])}),i("el-table-column",{attrs:{property:"onumber",width:"100",label:"下单数量"}}),i("el-table-column",{attrs:{label:"实际数量",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-input-number",{attrs:{min:0,controls:!1},model:{value:e.row.number,callback:function(i){t.$set(e.row,"number",i)},expression:"scope.row.number"}})]}}])})],1),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(e){t.payDialogVisible=!1}}},[t._v("取消")]),i("el-button",{attrs:{type:"primary"},on:{click:t.confirmPay}},[t._v("确定")])],1)],1),i("el-dialog",{attrs:{visible:t.shipDialogVisible,title:"确认发货？"},on:{"update:visible":function(e){t.shipDialogVisible=e}}},[i("el-form",{ref:"shipForm",staticStyle:{width:"400px","margin-left":"50px"},attrs:{model:t.shipForm,"status-icon":"","label-position":"left","label-width":"100px"}},[i("el-form-item",{attrs:{label:"快递公司",prop:"shipChannel"}},[i("el-select",{attrs:{placeholder:"请选择"},model:{value:t.shipForm.shipChannel,callback:function(e){t.$set(t.shipForm,"shipChannel",e)},expression:"shipForm.shipChannel"}},t._l(t.channels,(function(t){return i("el-option",{key:t.code,attrs:{label:t.name,value:t.code}})})),1)],1),i("el-form-item",{attrs:{label:"快递单号",prop:"shipSn"}},[i("el-input",{model:{value:t.shipForm.shipSn,callback:function(e){t.$set(t.shipForm,"shipSn",e)},expression:"shipForm.shipSn"}})],1)],1),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(e){t.shipDialogVisible=!1}}},[t._v("取消")]),i("el-button",{attrs:{type:"primary"},on:{click:t.confirmShip}},[t._v("确定")])],1)],1),i("el-dialog",{attrs:{visible:t.deleteDialogVisible,title:"确认删除？",width:"80%"},on:{"update:visible":function(e){t.deleteDialogVisible=e}}},[i("el-form",{ref:"deleteForm",staticStyle:{width:"400px","margin-left":"50px"},attrs:{model:t.deleteForm,"status-icon":"","label-position":"left","label-width":"100px"}}),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(e){t.deleteDialogVisible=!1}}},[t._v("取消")]),i("el-button",{attrs:{type:"primary"},on:{click:t.confirmDelete}},[t._v("确定")])],1)],1),i("el-dialog",{attrs:{visible:t.refundDialogVisible,title:"退款"},on:{"update:visible":function(e){t.refundDialogVisible=e}}},[i("el-form",{ref:"refundForm",staticStyle:{width:"400px","margin-left":"50px"},attrs:{model:t.refundForm,"status-icon":"","label-position":"left","label-width":"100px"}},[i("el-form-item",{attrs:{label:"退款金额",prop:"refundMoney"}},[i("el-input",{attrs:{disabled:!0},model:{value:t.refundForm.refundMoney,callback:function(e){t.$set(t.refundForm,"refundMoney",e)},expression:"refundForm.refundMoney"}})],1)],1),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(e){t.refundDialogVisible=!1}}},[t._v("取消")]),i("el-button",{attrs:{type:"primary"},on:{click:t.confirmRefund}},[t._v("确定")])],1)],1),i("el-dialog",{attrs:{visible:t.orderDialogVisible,title:"订单详情",width:"80%"},on:{"update:visible":function(e){t.orderDialogVisible=e}}},[i("el-form",{attrs:{data:t.orderDetail,"label-position":"left"}},[i("div",{staticClass:"new-cover"},[i("div",{ref:"pr",staticClass:"printBox",attrs:{id:"print"}},[i("div",{attrs:{id:"imgBox"}},[i("div",{staticStyle:{height:"30px"}}),i("div",{staticClass:"title"},[t._v("订单详情")]),i("div",{staticStyle:{height:"30px"}}),i("el-form-item",{staticClass:"tab",attrs:{label:"订单信息"}}),i("div",{staticClass:"table-layout tab"},[i("el-row",[i("el-col",{staticClass:"table-cell-title",attrs:{span:4}},[t._v("订单编号")]),i("el-col",{staticClass:"table-cell-title",attrs:{span:4}},[t._v("订单状态")]),i("el-col",{staticClass:"table-cell-title",attrs:{span:4}},[t._v("商品总数")]),i("el-col",{staticClass:"table-cell-title",attrs:{span:4}},[t._v("商品金额")]),i("el-col",{staticClass:"table-cell-title",attrs:{span:4}},[t._v("实际付款")]),i("el-col",{staticClass:"table-cell-title",attrs:{span:4}},[t._v("用户留言")])],1),i("el-row",[i("el-col",{staticClass:"table-cell",attrs:{span:4}},[t._v(t._s(t.orderDetail.orderSn))]),i("el-col",{staticClass:"table-cell",attrs:{span:4}},[t._v(t._s(t.orderDetail.orderStatusText))]),i("el-col",{staticClass:"table-cell",attrs:{span:4}},[t._v(t._s(t.orderDetail.goodsNumber))]),i("el-col",{staticClass:"table-cell",attrs:{span:4}},[t._v("¥"+t._s(t.orderDetail.goodsPrice))]),i("el-col",{staticClass:"table-cell",attrs:{span:4}},[t._v("¥"+t._s(t.orderDetail.actualPrice))]),i("el-col",{staticClass:"table-cell",attrs:{span:4}},[t._v(t._s(t.orderDetail.message))])],1),i("el-row",[i("el-col",{staticClass:"table-cell-title",attrs:{span:4}},[t._v("下单用户")]),i("el-col",{staticClass:"table-cell-title",attrs:{span:4}},[t._v("下单电话")]),i("el-col",{staticClass:"table-cell-title",attrs:{span:4}},[t._v("收件姓名")]),i("el-col",{staticClass:"table-cell-title",attrs:{span:4}},[t._v("收件电话")]),i("el-col",{staticClass:"table-cell-title",attrs:{span:4}},[t._v("收货地址")]),i("el-col",{staticClass:"table-cell-title",attrs:{span:4}},[t._v("下单时间")])],1),i("el-row",[i("el-col",{staticClass:"table-cell",attrs:{span:4}},[t._v(t._s(t.orderDetail.userName))]),i("el-col",{staticClass:"table-cell",attrs:{span:4}},[t._v(t._s(t.orderDetail.userMobile))]),i("el-col",{staticClass:"table-cell",attrs:{span:4}},[t._v(t._s(t.orderDetail.consignee))]),i("el-col",{staticClass:"table-cell",attrs:{span:4}},[t._v(t._s(t.orderDetail.mobile))]),i("el-col",{staticClass:"table-cell",attrs:{span:4}},[t._v(t._s(t.orderDetail.address))]),i("el-col",{staticClass:"table-cell",attrs:{span:4}},[t._v(t._s(t.orderDetail.addTime))])],1)],1),i("div",{staticStyle:{height:"30px"}}),i("el-form-item",{staticClass:"tab",attrs:{label:"商品信息"}},[i("el-table",{attrs:{data:t.orderDetail.goodsVoList,border:"",fit:"","highlight-current-row":""}},[i("el-table-column",{attrs:{align:"center",label:"商品名称",prop:"goodsName"}}),i("el-table-column",{attrs:{align:"center",label:"商品编号",prop:"goodsSn"}}),i("el-table-column",{attrs:{align:"center",label:"货品规格",prop:"specifications"}}),i("el-table-column",{attrs:{align:"center",label:"货品价格",prop:"price"}}),i("el-table-column",{attrs:{align:"center",label:"货品数量",prop:"number"}}),i("el-table-column",{attrs:{align:"center",label:"货品图片",prop:"picUrl"},scopedSlots:t._u([{key:"default",fn:function(t){return[i("img",{attrs:{src:t.row.picUrl,width:"40"}})]}}])}),i("el-table-column",{attrs:{align:"center",label:"商品小计",prop:"picUrl"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" ¥"+t._s(Number(e.row.price*e.row.number).toFixed(2))+" ")]}}])})],1)],1),i("div",{staticStyle:{height:"30px"}}),i("el-form-item",{staticClass:"tab",attrs:{label:"费用信息"}},[i("span",[t._v(" 【实际支付："+t._s(t.orderDetail.actualPrice)+"元】 =【商品总价："+t._s(t.orderDetail.goodsPrice)+"元】 +【物流费用："+t._s(t.orderDetail.freightPrice)+"元】 -【团购优惠："+t._s(t.orderDetail.grouponPrice)+"元】 -【优惠券减免："+t._s(t.orderDetail.couponPrice)+"元】 -【余额减免："+t._s(t.orderDetail.integralPrice)+"元】 ")])]),i("el-form-item",{staticClass:"tab",attrs:{label:"支付信息"}},[i("span",[t._v("【支付渠道：微信支付】")]),i("span",[t._v("【支付时间："+t._s(t.orderDetail.payTime)+"】")])]),i("el-form-item",{staticClass:"tab",attrs:{label:"物流信息"}},[i("span",[t._v("【物流公司："+t._s(t.orderDetail.shipChannel)+"】")]),i("span",[t._v("【物流单号："+t._s(t.orderDetail.shipSn)+"】")]),i("span",[t._v("【发货时间："+t._s(t.orderDetail.shipTime)+"】")])]),i("el-form-item",{staticClass:"tab",attrs:{label:"退款信息"}},[i("span",[t._v("【退款金额："+t._s(t.orderDetail.refundAmount)+"元】")]),i("span",[t._v("【退款类型："+t._s(t.orderDetail.refundType)+"】")]),i("span",[t._v("【退款备注："+t._s(t.orderDetail.refundContent)+"】")]),i("span",[t._v("【退款时间："+t._s(t.orderDetail.refundTime)+"】")])]),i("el-form-item",{staticClass:"tab",attrs:{label:"收货信息"}},[i("span",[t._v("【确认收货时间："+t._s(t.orderDetail.confirmTime)+"】")])])],1)])])]),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(e){t.orderDialogVisible=!1}}},[t._v("取 消")]),i("el-button",{attrs:{type:"primary"},on:{click:t.printDetail}},[t._v("打 印")])],1)],1)],1)},a=[],r=i("b85c"),s=(i("d3b7"),i("159b"),i("3ca3"),i("ddb0"),i("b680"),i("a9e3"),i("c0e9")),o=i.n(s),n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"root"},[i("div",[i("img",{attrs:{src:t.good.picUrl}})]),i("div",{staticClass:"desc"},[i("div",{staticClass:"good-name"},[t._v(t._s(t.good.goodsName))]),i("div",{staticClass:"good-std"},[i("div",{staticClass:"std"},[t._v("商品规格：")]),i("div",{staticClass:"spec"},[t._v(t._s(t.good.specifications))])]),i("div",{staticClass:"good-footer"},[i("div",[i("div",{staticClass:"std"},[t._v("商品价格：")]),i("div",{staticClass:"price"},[t._v("￥"+t._s(t.good.price))])]),i("div",[i("div",{staticClass:"std"},[t._v("商品数量：")]),i("div",{staticClass:"num"},[t._v(t._s(t.good.number))])]),i("div",[i("div",{staticClass:"std"},[t._v("合计：")]),i("div",{staticClass:"price"},[t._v("￥"+t._s(Number((t.good.price*t.good.number).toFixed(2))))])])])])])},c=[],d={props:{good:{default:{picUrl:"",price:0,number:0,specifications:["标准"],goodsName:""}}}},u=d,p=(i("fda9"),i("2877")),m=Object(p["a"])(u,n,c,!1,null,"4e7e571e",null),f=m.exports,b=i("f8b7"),h=i("333d");i("caad"),i("2532"),i("4360");var y={101:"未付款",102:"用户取消",103:"系统取消",104:"管理员取消",200:"线下付款",201:"已付款",202:"申请退款",203:"已退款",301:"待开团",302:"团购中",303:"团购失败",304:"团购成功",401:"已发货",402:"用户收货",403:"系统收货",404:"评价已超时",405:"交易完成",601:"售后申请中",602:"售后处理中",603:"售后已完成",604:"售后已拒绝"},g={name:"Order",components:{Pagination:h["a"],GoodDetail:f},data:function(){return{list:[],total:0,listLoading:!0,listQuery:{page:1,limit:10,showType:"0",shipSn:void 0,goodsId:void 0,brandId:void 0,mobile:void 0,orderSn:void 0,timeArray:[],orderStatusArray:[],sort:"add_time",order:"desc"},info:{n0:0,n1:0,n2:0,n3:0,n4:0,n5:0},pickerOptions:{shortcuts:[{text:"最近一周",onClick:function(t){var e=new Date,i=new Date;i.setTime(i.getTime()-6048e5),t.$emit("pick",[i,e])}},{text:"最近一个月",onClick:function(t){var e=new Date,i=new Date;i.setTime(i.getTime()-2592e6),t.$emit("pick",[i,e])}},{text:"最近三个月",onClick:function(t){var e=new Date,i=new Date;i.setTime(i.getTime()-7776e6),t.$emit("pick",[i,e])}}]},statusMap:y,orderDetail:{},shipForm:{orderId:void 0,shipChannel:void 0,shipSn:void 0},deleteForm:{orderId:void 0},payForm:{orderId:void 0,orderSn:"",oldMoney:0,newMoney:0,goodsList:[]},refundForm:{orderId:void 0,refundMoney:void 0},orderDialogVisible:!1,shipDialogVisible:!1,payDialogVisible:!1,refundDialogVisible:!1,deleteDialogVisible:!1,downloadLoading:!1,downloadLoadingBHD:!1,channels:[]}},created:function(){this.init(),this.getChannel()},methods:{checkPermission:void 0,init:function(){this.listQuery.brandId=this.$route.query.brandId,this.getList()},handleClick:function(){this.listQuery.page=1,this.getList()},getList:function(){var t=this;this.listLoading=!0,this.listQuery.timeArray&&2===this.listQuery.timeArray.length?(this.listQuery.start=this.listQuery.timeArray[0],this.listQuery.end=this.listQuery.timeArray[1]):(this.listQuery.start=null,this.listQuery.end=null),Object(b["e"])(this.listQuery).then((function(e){t.list=e.data.list,t.total=e.data.total,t.listLoading=!1})).catch((function(){t.list=[],t.total=0,t.listLoading=!1})),Object(b["c"])().then((function(e){t.info=e.data}))},getChannel:function(){var t=this;Object(b["d"])().then((function(e){t.channels=e.data}))},handleFilter:function(){this.listQuery.page=1,this.getList()},handlePay:function(t){this.payForm.orderId=t.id,this.payForm.orderSn=t.orderSn,this.payForm.oldMoney=t.actualPrice,this.payForm.newMoney=t.actualPrice,this.payForm.goodsList=t.goodsVoList,this.payForm.goodsList.forEach((function(t){t.onumber=t.number})),this.payDialogVisible=!0},confirmPay:function(){var t=this;if(this.payForm.oldMoney!==this.payForm.newMoney){var e=this.payForm.newMoney-this.payForm.oldMoney;this.$confirm("差额 "+e+"元， 是否确认提交").then((function(e){t.confirmPay2()})).catch((function(t){}))}else this.confirmPay2()},confirmPay2:function(){var t=this;Object(b["f"])(this.payForm).then((function(e){t.$notify.success({title:"成功",message:"订单收款操作成功"}),t.getList()})).finally((function(){t.payDialogVisible=!1}))},handleCancel:function(t){var e=this;this.$confirm("确定要取消订单?","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning",center:!0}).then((function(){Object(b["a"])(t).then((function(t){e.$notify.success({title:"成功",message:"订单取消成功"}),e.getList()}))})).catch((function(){}))},handleShip:function(t){var e=this;this.shipForm.orderId=t.id,this.shipForm.shipChannel=t.shipChannel,this.shipForm.shipSn=t.shipSn,this.shipDialogVisible=!0,this.$nextTick((function(){e.$refs["shipForm"].clearValidate()}))},confirmShip:function(){var t=this;this.$refs["shipForm"].validate((function(e){e&&Object(b["i"])(t.shipForm).then((function(e){t.shipDialogVisible=!1,t.$notify.success({title:"成功",message:"确认发货成功"}),t.getList()}))}))},handleDelete:function(t){var e=this;this.deleteForm.orderId=t.id,this.deleteDialogVisible=!0,this.$nextTick((function(){e.$refs["deleteForm"].clearValidate()}))},confirmDelete:function(){var t=this;this.$refs["deleteForm"].validate((function(e){e&&Object(b["b"])(t.deleteForm.orderId).then((function(e){t.deleteDialogVisible=!1,t.$notify.success({title:"成功",message:"订单删除成功"}),t.getList()}))}))},handleRefund:function(t){var e=this;this.refundForm.orderId=t.id,this.refundForm.refundMoney=t.actualPrice,this.refundDialogVisible=!0,this.$nextTick((function(){e.$refs["refundForm"].clearValidate()}))},confirmRefund:function(){var t=this;this.$refs["refundForm"].validate((function(e){e&&Object(b["g"])(t.refundForm).then((function(e){t.refundDialogVisible=!1,t.$notify.success({title:"成功",message:"确认退款成功"}),t.getList()}))}))},handleDetail:function(t){this.orderDetail=t,this.orderDialogVisible=!0},printDetail:function(){var t=document.getElementById("print");setTimeout((function(){o()(t,{width:1150,height:990}).then((function(t){var e=t.toDataURL("image/jpeg"),i=document.createElement("a");i.href=e,i.setAttribute("download","订单详情.jpeg"),i.click()})).catch((function(t){console.log("!!!err",t)}))}),80)},handleDownload:function(){var t=this;this.downloadLoading=!0,Promise.all([i.e("chunk-285c62ee"),i.e("chunk-2d216387")]).then(i.bind(null,"c213")).then((function(e){var i=["序号","订单编号","用户昵称","用户电话","用户ID","下单时间","订单金额","商品总价","商品数量","余额减免","微信支付","收件姓名","收货电话","收货地址","物流单号","物流渠道","备注"],l=["id","orderSn","userName","userMobile","userId","addTime","orderPrice","goodsPrice","goodsNumber","integralPrice","actualPrice","consignee","mobile","address","shipSn","shipChannel","message"];e.export_json_to_excel2(i,t.list,l,"订单信息"),t.downloadLoading=!1}))},handleDownloadBHD:function(){var t=this;this.downloadLoadingBHD=!0,Promise.all([i.e("chunk-285c62ee"),i.e("chunk-2d216387")]).then(i.bind(null,"c213")).then((function(e){var i,l=["序号","订单编号","订单状态","下单用户","下单电话","用户ID","下单时间","商品名称","商品数量","商品单价","商品总价"],a=["id","orderSn","orderStatusText","userName","userMobile","userId","addTime","goodsName","number","price","allPrice"],s=t.list,o=[],n=Object(r["a"])(s);try{for(n.s();!(i=n.n()).done;){var c,d=i.value,u=Object(r["a"])(d.goodsVoList);try{for(u.s();!(c=u.n()).done;){var p=c.value,m={id:p.id,orderSn:d.orderSn,orderStatusText:d.orderStatusText,userName:d.userName,userMobile:d.userMobile,userId:d.userId,addTime:d.addTime,goodsName:p.goodsName,number:p.number,price:p.price,allPrice:Number(p.price*p.number).toFixed(2)};o.push(m)}}catch(f){u.e(f)}finally{u.f()}}}catch(f){n.e(f)}finally{n.f()}e.export_json_to_excel2(l,o,a,"备货单信息"),t.downloadLoadingBHD=!1}))},printOrder:function(){this.$print(this.$refs.print),this.orderDialogVisible=!1}}},v=g,_=(i("0536"),Object(p["a"])(v,l,a,!1,null,"fb49ff1e",null));e["default"]=_.exports},f8b7:function(t,e,i){"use strict";i.d(e,"e",(function(){return s})),i.d(e,"c",(function(){return o})),i.d(e,"i",(function(){return n})),i.d(e,"a",(function(){return c})),i.d(e,"g",(function(){return d})),i.d(e,"f",(function(){return u})),i.d(e,"b",(function(){return p})),i.d(e,"h",(function(){return m})),i.d(e,"d",(function(){return f}));var l=i("b775"),a=i("4328"),r=i.n(a);function s(t){return Object(l["a"])({url:"/order/list",method:"get",params:t,paramsSerializer:function(t){return r.a.stringify(t,{arrayFormat:"repeat"})}})}function o(){return Object(l["a"])({url:"/order/info",method:"get"})}function n(t){return Object(l["a"])({url:"/order/ship",method:"post",data:t})}function c(t){return Object(l["a"])({url:"/order/cancel",method:"post",data:t})}function d(t){return Object(l["a"])({url:"/order/refund",method:"post",data:t})}function u(t){return Object(l["a"])({url:"/order/pay",method:"post",data:t})}function p(t){return Object(l["a"])({url:"/order/delete",method:"post",params:{id:t}})}function m(t){return Object(l["a"])({url:"/order/reply",method:"post",data:t})}function f(t){return Object(l["a"])({url:"/order/channel",method:"get"})}},fda9:function(t,e,i){"use strict";i("19c4")}}]);