(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-173ea0c6"],{"0ec4":function(e,t,a){},"14a7":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("div",{staticClass:"filter-container"},[a("el-form",{attrs:{model:e.listQuery,size:"small",inline:!0}},[a("el-form-item",{attrs:{label:"序号ID"}},[a("el-input",{staticClass:"filter-item",staticStyle:{width:"200px"},attrs:{clearable:"",placeholder:"请输入查询序号ID"},model:{value:e.listQuery.id,callback:function(t){e.$set(e.listQuery,"id",t)},expression:"listQuery.id"}})],1),a("el-form-item",{attrs:{label:"租户名称"}},[a("el-input",{staticClass:"filter-item",staticStyle:{width:"200px"},attrs:{clearable:"",placeholder:"请输入租户名称"},model:{value:e.listQuery.address,callback:function(t){e.$set(e.listQuery,"address",t)},expression:"listQuery.address"}})],1),a("el-form-item",{attrs:{label:"查询数量"}},[a("el-input",{staticClass:"filter-item",staticStyle:{width:"200px"},attrs:{clearable:"",placeholder:"输入0查询全部"},model:{value:e.listQuery.limit,callback:function(t){e.$set(e.listQuery,"limit",t)},expression:"listQuery.limit"}})],1),a("el-form-item",[a("el-button",{directives:[{name:"permission",rawName:"v-permission",value:["GET /admin/tenant/list"],expression:"['GET /admin/tenant/list']"}],staticClass:"filter-item",attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.handleFilter}},[e._v("查找")])],1)],1),a("el-row",{staticClass:"mb8",attrs:{gutter:10}},[a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"permission",rawName:"v-permission",value:["POST /admin/tenant/create"],expression:"['POST /admin/tenant/create']"}],attrs:{type:"primary",plain:"",icon:"el-icon-plus",size:"mini"},on:{click:e.handleCreate}},[e._v("新增")])],1),a("el-col",{attrs:{span:1.5}},[a("el-button",{attrs:{loading:e.downloadLoading,type:"warning",plain:"",icon:"el-icon-download",size:"mini"},on:{click:e.handleDownload}},[e._v("导出")])],1),a("right-toolbar",{attrs:{showSearch:e.showSearch},on:{"update:showSearch":function(t){e.showSearch=t},"update:show-search":function(t){e.showSearch=t},queryTable:e.getList}})],1)],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],attrs:{data:e.list,"element-loading-text":"正在查询中。。。",border:"",fit:"","highlight-current-row":""}},[a("el-table-column",{attrs:{align:"center",label:"序号",prop:"id",sortable:""}}),a("el-table-column",{attrs:{align:"center",label:"租户地址",prop:"address","min-width":"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tag",{attrs:{type:"primary"}},[e._v(" "+e._s(t.row.address)+" ")])]}}])}),a("el-table-column",{attrs:{align:"center",label:"appId",prop:"appId"}}),a("el-table-column",{attrs:{align:"center",label:"appSecret",prop:"appSecret"}}),a("el-table-column",{attrs:{align:"center",label:"添加日期",prop:"addTime"}}),a("el-table-column",{attrs:{align:"center",label:"修改日期",prop:"updateTime"}}),a("el-table-column",{attrs:{align:"center",label:"操作","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{directives:[{name:"permission",rawName:"v-permission",value:["POST /admin/tenant/update"],expression:"['POST /admin/tenant/update']"}],attrs:{type:"primary",size:"mini"},on:{click:function(a){return e.handleUpdate(t.row)}}},[e._v("编辑")]),a("el-button",{directives:[{name:"permission",rawName:"v-permission",value:["POST /admin/tenant/delete"],expression:"['POST /admin/tenant/delete']"}],attrs:{type:"danger",size:"mini"},on:{click:function(a){return e.handleDelete(t.row)}}},[e._v("删除")])]}}])})],1),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.listQuery.page,limit:e.listQuery.limit},on:{"update:page":function(t){return e.$set(e.listQuery,"page",t)},"update:limit":function(t){return e.$set(e.listQuery,"limit",t)},pagination:e.getList}}),a("el-dialog",{attrs:{title:e.textMap[e.dialogStatus],visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{ref:"dataForm",attrs:{rules:e.rules,model:e.dataForm,"status-icon":"","label-position":"left","label-width":"150px"}},[a("el-form-item",{attrs:{label:"租户地址:",prop:"address"}},[a("el-input",{attrs:{placeholder:"请输入租户地址"},model:{value:e.dataForm.address,callback:function(t){e.$set(e.dataForm,"address",t)},expression:"dataForm.address"}})],1),a("el-form-item",{attrs:{label:"appId:",prop:"appId"}},[a("el-input",{attrs:{placeholder:"请输入appId"},model:{value:e.dataForm.appId,callback:function(t){e.$set(e.dataForm,"appId",t)},expression:"dataForm.appId"}})],1),a("el-form-item",{attrs:{label:"appSecret:",prop:"appSecret"}},[a("el-input",{attrs:{placeholder:"请输入appSecret"},model:{value:e.dataForm.appSecret,callback:function(t){e.$set(e.dataForm,"appSecret",t)},expression:"dataForm.appSecret"}})],1),a("el-form-item",{attrs:{label:"token:",prop:"token"}},[a("el-input",{attrs:{placeholder:"请输入token"},model:{value:e.dataForm.token,callback:function(t){e.$set(e.dataForm,"token",t)},expression:"dataForm.token"}})],1),a("el-form-item",{attrs:{label:"aesKey:",prop:"aesKey"}},[a("el-input",{attrs:{placeholder:"请输入aesKey"},model:{value:e.dataForm.aesKey,callback:function(t){e.$set(e.dataForm,"aesKey",t)},expression:"dataForm.aesKey"}})],1),a("el-form-item",{attrs:{label:"mchId:",prop:"mchId"}},[a("el-input",{attrs:{placeholder:"请输入mchId"},model:{value:e.dataForm.mchId,callback:function(t){e.$set(e.dataForm,"mchId",t)},expression:"dataForm.mchId"}})],1),a("el-form-item",{attrs:{label:"mchKey:",prop:"mchKey"}},[a("el-input",{attrs:{placeholder:"请输入mchKey"},model:{value:e.dataForm.mchKey,callback:function(t){e.$set(e.dataForm,"mchKey",t)},expression:"dataForm.mchKey"}})],1),a("el-form-item",{attrs:{label:"keyPath:",prop:"keyPath"}},[a("el-input",{attrs:{placeholder:"请输入keyPath"},model:{value:e.dataForm.keyPath,callback:function(t){e.$set(e.dataForm,"keyPath",t)},expression:"dataForm.keyPath"}})],1),a("el-form-item",{attrs:{label:"apiV3Key:",prop:"apiV3Key"}},[a("el-input",{attrs:{placeholder:"请输入apiV3Key"},model:{value:e.dataForm.apiV3Key,callback:function(t){e.$set(e.dataForm,"apiV3Key",t)},expression:"dataForm.apiV3Key"}})],1),a("el-form-item",{attrs:{label:"privateCertPath:",prop:"privateCertPath"}},[a("el-input",{attrs:{placeholder:"请输入privateCertPath"},model:{value:e.dataForm.privateCertPath,callback:function(t){e.$set(e.dataForm,"privateCertPath",t)},expression:"dataForm.privateCertPath"}})],1),a("el-form-item",{attrs:{label:"privateKeyPath:",prop:"privateKeyPath"}},[a("el-input",{attrs:{placeholder:"请输入privateKeyPath"},model:{value:e.dataForm.privateKeyPath,callback:function(t){e.$set(e.dataForm,"privateKeyPath",t)},expression:"dataForm.privateKeyPath"}})],1),a("el-form-item",{attrs:{label:"jdbcUrl:",prop:"jdbcUrl"}},[a("el-input",{attrs:{placeholder:"请输入jdbcUrl"},model:{value:e.dataForm.jdbcUrl,callback:function(t){e.$set(e.dataForm,"jdbcUrl",t)},expression:"dataForm.jdbcUrl"}})],1),a("el-form-item",{attrs:{label:"username:",prop:"username"}},[a("el-input",{attrs:{placeholder:"请输入username"},model:{value:e.dataForm.username,callback:function(t){e.$set(e.dataForm,"username",t)},expression:"dataForm.username"}})],1),a("el-form-item",{attrs:{label:"password:",prop:"password"}},[a("el-input",{attrs:{placeholder:"请输入password"},model:{value:e.dataForm.password,callback:function(t){e.$set(e.dataForm,"password",t)},expression:"dataForm.password"}})],1),a("el-form-item",{attrs:{label:"driverClassName:",prop:"driverClassName"}},[a("el-input",{attrs:{placeholder:"请输入driverClassName"},model:{value:e.dataForm.driverClassName,callback:function(t){e.$set(e.dataForm,"driverClassName",t)},expression:"dataForm.driverClassName"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取消")]),"create"===e.dialogStatus?a("el-button",{attrs:{type:"primary"},on:{click:e.createData}},[e._v("确定")]):a("el-button",{attrs:{type:"primary"},on:{click:e.updateData}},[e._v("确定")])],1)],1)],1)},l=[],i=a("b775");function s(e){return Object(i["a"])({url:"/tenant/list",method:"get",params:e})}function o(e){return Object(i["a"])({url:"/tenant/create",method:"post",data:e})}function n(e){return Object(i["a"])({url:"/tenant/update",method:"post",data:e})}function d(e){return Object(i["a"])({url:"/tenant/delete",method:"post",params:{id:e}})}a("5f87");var c=a("333d"),p={name:"Tenant",components:{Pagination:c["a"]},data:function(){return{showSearch:!0,list:null,total:0,roleOptions:null,listLoading:!0,listQuery:{page:1,limit:20},dialogFormVisible:!1,dialogStatus:"",textMap:{update:"编辑",create:"创建"},dataForm:{id:void 0,address:void 0,addTime:void 0,updateTime:void 0,deleted:void 0},rules:{address:[{required:!0,message:"地址不能为空",trigger:"blur"}],appId:[{required:!0,message:"appId不能为空",trigger:"blur"}],appSecret:[{required:!0,message:"appSecret不能为空",trigger:"blur"}]},downloadLoading:!1}},created:function(){this.getList()},methods:{getList:function(){var e=this;this.listLoading=!0,s(this.listQuery).then((function(t){e.list=t.data.list,e.total=t.data.total,e.listLoading=!1})).catch((function(){e.list=[],e.total=0,e.listLoading=!1}))},handleFilter:function(){this.listQuery.page=1,this.getList()},resetForm:function(){this.dataForm={address:void 0}},handleCreate:function(){var e=this;this.resetForm(),this.dialogStatus="create",this.dialogFormVisible=!0,this.$nextTick((function(){e.$refs["dataForm"].clearValidate()}))},createData:function(){var e=this;this.$refs["dataForm"].validate((function(t){t&&o(e.dataForm).then((function(t){e.dialogFormVisible=!1,e.$notify.success({title:"成功",message:"租户添加成功"}),e.getList()}))}))},handleUpdate:function(e){var t=this;this.dataForm=Object.assign({},e),this.dialogStatus="update",this.dialogFormVisible=!0,this.$nextTick((function(){t.$refs["dataForm"].clearValidate()}))},updateData:function(){var e=this;this.$refs["dataForm"].validate((function(t){t&&n(e.dataForm).then((function(t){e.dialogFormVisible=!1,e.$notify.success({title:"成功",message:"租户修改成功"}),e.getList()}))}))},handleDelete:function(e){var t=this;this.$confirm("确定删除?","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning",center:!0}).then((function(){d(e.id).then((function(e){t.$notify.success({title:"成功",message:"租户删除成功"}),t.getList()}))})).catch((function(){}))}}},m=p,u=(a("dc60"),a("2877")),h=Object(u["a"])(m,r,l,!1,null,null,null);t["default"]=h.exports},dc60:function(e,t,a){"use strict";a("0ec4")}}]);